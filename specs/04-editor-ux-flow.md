# Editor UX Flow Specification

## Overview

청첩장 에디터의 **Quick Setup** 플로우를 정의합니다.
사용자가 **1분 내에** 기본 청첩장을 생성하고, 이후 상세 편집은 대시보드에서 진행합니다.

## Design Philosophy

| Principle | Description |
|-----------|-------------|
| **Quick Start** | 최소 정보로 빠르게 시작 |
| **Gradual Enhancement** | 나중에 천천히 꾸미기 |
| **Smart Defaults** | 합리적인 기본값 자동 적용 |
| **No Overwhelm** | 한 번에 많은 입력 요구 X |

---

## UX 원칙: 기능은 많지만, 복잡하지 않게

### Progressive Disclosure (점진적 노출)

> **"필요한 것만 보여주고, 나머지는 숨겨둔다"**

```
Level 1: 필수 (항상 보임)
├─ 예식일, 장소, 이름
├─ 기본 테마
└─ 저장/미리보기

Level 2: 권장 (기본 ON, 숨길 수 있음)
├─ 계좌 정보
├─ RSVP
├─ 방명록
└─ 캘린더/연락처

Level 3: 선택 (기본 OFF, 필요시 추가)
├─ 화환 안내
├─ 셔틀버스
├─ 복장 안내
├─ 시크릿 콘텐츠
└─ AI 초대글
```

### Smart Defaults (똑똑한 기본값)

| 상황 | 기본 행동 |
|------|----------|
| 테마 미선택 | 가장 인기 있는 테마 자동 적용 |
| 초대글 미작성 | 기본 문구 자동 입력 |
| 슬러그 미입력 | `신랑이름-신부이름` 자동 생성 |
| 계좌 미입력 | 계좌 섹션 자동 숨김 |
| 사진 0장 | 샘플 이미지로 미리보기 |

### Contextual Help (맥락적 도움말)

```
┌─────────────────────────────────────────────────────────────┐
│  AI 초대글                                           [?]    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 따뜻한 봄날, 서로에게 스며든 두 사람이...           │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  💡 [?] 클릭 시:                                           │
│  "키워드만 입력하면 AI가 감성적인 초대글을 작성해드려요.     │
│   직접 수정도 가능해요."                                    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### Inline Preview (즉시 미리보기)

- 변경 즉시 오른쪽 Preview에 반영
- "저장 → 미리보기" 단계 제거
- 실수해도 바로 확인 가능

### Section Toggle (섹션 토글)

```
에디터 좌측 메뉴:

📋 기본정보        ← 필수, 항상 표시
🎨 디자인
📝 초대글
📸 갤러리
─────────────────
💳 계좌           [ON]  ← 토글로 켜고 끄기
✅ 참석 여부       [ON]
💬 방명록         [ON]
─────────────────
➕ 더 추가하기      ▼    ← 클릭하면 확장
   💐 화환 안내    [ ]
   🚌 셔틀버스     [ ]
   👔 복장 안내    [ ]
   🤫 시크릿      [ ]
```

### Empty State Guidance (빈 상태 안내)

```
┌─────────────────────────────────────────────────────────────┐
│  📸 갤러리                                                   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│              ┌─────────────────────┐                        │
│              │                     │                        │
│              │   📷 + 사진 추가    │                        │
│              │                     │                        │
│              └─────────────────────┘                        │
│                                                             │
│         드래그하거나 클릭해서 사진을 추가하세요               │
│         최대 30장 · JPG, PNG, HEIC                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### Error Prevention (에러 예방)

| 상황 | 예방 조치 |
|------|----------|
| 필수 필드 누락 | 발행 버튼 비활성화 + 누락 항목 하이라이트 |
| 슬러그 중복 | 실시간 체크 + 대안 제안 |
| 큰 파일 업로드 | 자동 리사이징 (에러 대신) |
| 페이지 이탈 | 저장 안 된 변경사항 경고 |

---

## Flow Overview

### 기존 vs 개선

| 기존 (5단계) | 개선 (Quick Setup) |
|-------------|-------------------|
| Step 1: 기본 정보 (10+ 필드) | **Quick Setup** (3 필드) |
| Step 2: 디자인 선택 | → 대시보드에서 편집 |
| Step 3: 콘텐츠 입력 | → 대시보드에서 편집 |
| Step 4: 부가 기능 | → 대시보드에서 편집 |
| Step 5: 발행 | → 대시보드에서 발행 |

### New Flow
```
[+ 새 청첩장 만들기]
       ↓
┌─────────────────────┐
│   Quick Setup       │  ← 필수 3가지만
│   (1분 완성)         │
└─────────────────────┘
       ↓
청첩장 자동 생성 (Draft)
       ↓
┌─────────────────────┐
│   Dashboard         │  ← 카드로 표시
│   내 청첩장          │
└─────────────────────┘
       ↓
[편집하기] 클릭
       ↓
┌─────────────────────┐
│   Detail Editor     │  ← 상세 편집
│   (섹션별 편집)       │
└─────────────────────┘
```

---

## Quick Setup (신규 생성)

### Route
`/editor/new`

### UI Layout
```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│                    🎀 연정                              │
│                                                         │
│              딱 3가지만 알려주세요                        │
│              나머지는 나중에 천천히 꾸미면 돼요            │
│                                                         │
├─────────────────────────────────────────────────────────┤
│                                                         │
│   예식일 *                                              │
│   ┌─────────────────────────────────────────────────┐   │
│   │ 📅  2025년 5월 16일 (토)  14:00               ▼ │   │
│   └─────────────────────────────────────────────────┘   │
│                                                         │
│   예식장 *                                              │
│   ┌─────────────────────────────────────────────────┐   │
│   │ 🔍  예식장 이름으로 검색...                       │   │
│   └─────────────────────────────────────────────────┘   │
│   선택됨: 더채플앳청담 3층 그랜드홀                       │
│                                                         │
│   신랑 & 신부 *                                         │
│   ┌───────────────────┐  ┌───────────────────┐         │
│   │ 신랑 이름          │  │ 신부 이름          │         │
│   │ 지훈              │  │ 민영              │         │
│   └───────────────────┘  └───────────────────┘         │
│                                                         │
│                                                         │
│            ┌─────────────────────────┐                  │
│            │    청첩장 만들기 →      │                  │
│            └─────────────────────────┘                  │
│                                                         │
│   💡 테마, 사진, 초대글은 나중에 추가할 수 있어요         │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### Required Fields (3개만!)

| Field | Type | Validation | Description |
|-------|------|------------|-------------|
| 예식일시 | DateTime | 오늘 이후 | 날짜 + 시간 |
| 예식장 | Search + Select | 필수 | 카카오 주소 API |
| 신랑/신부 이름 | Text × 2 | 각 2-10자 | 이름만 |

### Smart Defaults (자동 적용)

| Field | Default Value |
|-------|---------------|
| 테마 | 로맨틱 핑크 (가장 인기) |
| 초대글 | 기본 템플릿 문구 |
| RSVP | 활성화 |
| 방명록 | 활성화 |
| 음악 | 비활성화 |
| 슬러그 | `{신랑이름}-{신부이름}` (자동 생성) |

### 예식장 검색 UX

```
┌─────────────────────────────────────────────────────────┐
│ 🔍  더채플                                              │
├─────────────────────────────────────────────────────────┤
│ 📍 더채플앳청담                                         │
│    서울 강남구 선릉로 158길 11                           │
├─────────────────────────────────────────────────────────┤
│ 📍 더채플앳논현                                         │
│    서울 강남구 논현로 168길 31                           │
├─────────────────────────────────────────────────────────┤
│ 📍 더채플앳삼성                                         │
│    서울 강남구 삼성로 96길 23                            │
└─────────────────────────────────────────────────────────┘

선택 후:
┌─────────────────────────────────────────────────────────┐
│ ✓ 더채플앳청담                                   [변경]  │
│   서울 강남구 선릉로 158길 11                            │
│                                                         │
│   층/홀 (선택): [3층 그랜드홀        ]                   │
└─────────────────────────────────────────────────────────┘
```

### Creation Success

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│                    🎉                                   │
│                                                         │
│              청첩장이 만들어졌어요!                       │
│                                                         │
│         ┌───────────────────────────┐                   │
│         │      [Phone Mockup]       │                   │
│         │      민영 ♥ 지훈          │                   │
│         │      2025.05.16           │                   │
│         └───────────────────────────┘                   │
│                                                         │
│   ┌─────────────────┐  ┌─────────────────┐             │
│   │   사진 추가하기   │  │   꾸미러 가기    │             │
│   └─────────────────┘  └─────────────────┘             │
│                                                         │
│              [ 나중에 할게요 → 대시보드 ]                 │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## Detail Editor (상세 편집)

### Route
`/editor/[id]`

### 접근 방식
- 대시보드에서 [편집하기] 클릭
- Quick Setup 완료 후 [꾸미러 가기] 클릭

### Layout (Desktop)

```
┌─────────────────────────────────────────────────────────────────┐
│  ← 내 청첩장    민영 ♥ 지훈                    [미리보기] [저장] │
├─────────────┬───────────────────────────────────────────────────┤
│             │                                                   │
│  📋 기본정보 │              [Edit Panel]                        │
│             │                                                   │
│  🎨 디자인   │   현재 선택된 섹션의                              │
│             │   편집 폼이 표시됩니다                             │
│  📝 초대글   │                                                   │
│             │                                                   │
│  📸 갤러리   │                                                   │
│             │                                                   │
│  🤫 시크릿   │                                                   │
│             │                                                   │
│  ⚙️ 설정    │                                                   │
│             │                                                   │
│  💳 계좌    │                                                   │
│             │                                                   │
├─────────────┼───────────────────────────────────────────────────┤
│             │              [Phone Preview]                      │
│             │              실시간 미리보기                        │
└─────────────┴───────────────────────────────────────────────────┘
```

### Layout (Mobile)

```
┌─────────────────────────┐
│ ← 민영♥지훈     [미리보기]│
├─────────────────────────┤
│ [기본][디자인][초대글]... │  ← 가로 스크롤 탭
├─────────────────────────┤
│                         │
│   [Edit Panel]          │
│   선택된 섹션 편집        │
│                         │
│                         │
├─────────────────────────┤
│       [저장하기]         │
└─────────────────────────┘
```

---

## Edit Sections

### 1. 기본정보 (📋)

Quick Setup에서 입력한 정보 + 추가 정보

| Field | Required | Note |
|-------|----------|------|
| 예식일시 | ✓ | Quick Setup |
| 예식장 | ✓ | Quick Setup |
| 신랑 이름 | ✓ | Quick Setup |
| 신부 이름 | ✓ | Quick Setup |
| 신랑 아버지 | | 혼주 정보 |
| 신랑 어머니 | | 혼주 정보 |
| 신부 아버지 | | 혼주 정보 |
| 신부 어머니 | | 혼주 정보 |
| 신랑 연락처 | | 전화 버튼용 |
| 신부 연락처 | | 전화 버튼용 |

**UX**: 혼주 정보는 "부모님 정보 추가" 버튼으로 펼치기

### 2. 디자인 (🎨)

| Option | Type | Description |
|--------|------|-------------|
| 테마 | Card Select | 5가지 테마 중 선택 |
| 메인 컬러 | Color Picker | 테마 기반 미세 조정 |
| 폰트 스타일 | Select | 클래식/모던/캘리 |

**UX**: 테마 선택 시 Preview 즉시 반영

### 3. 초대글 (📝)

| Mode | Description |
|------|-------------|
| 기본 문구 | 템플릿 문구 사용 |
| AI 작성 | 키워드 입력 → AI 생성 |
| 직접 작성 | 자유 입력 |

**AI 초대글 Flow**:
```
[AI로 작성하기]
     ↓
┌─────────────────────────────────────┐
│ 몇 가지만 알려주세요                  │
│                                     │
│ 만난 계기: [소개팅 ▼]                │
│ 분위기:   [따뜻한 ▼]                 │
│ 키워드:   [5년, 대학동기] (선택)      │
│                                     │
│      [초대글 만들기]                  │
└─────────────────────────────────────┘
     ↓
3가지 후보 중 선택 또는 재생성
```

### 4. 갤러리 (📸)

| Feature | Description |
|---------|-------------|
| 업로드 | Drag & Drop, 파일 선택 |
| 정렬 | 드래그로 순서 변경 |
| 대표 사진 | 첫 번째 사진 또는 지정 |
| 최대 | 30장 |

**UX**: 
- 빈 갤러리: 큰 업로드 영역 표시
- 사진 있음: 그리드 + 작은 추가 버튼

### 5. 시크릿 콘텐츠 (🤫)

| Field | Description |
|-------|-------------|
| 활성화 | ON/OFF 토글 |
| 트리거 사진 | 어떤 사진을 누르면 나올지 |
| 숨김 콘텐츠 | 이미지 또는 영상 (30초) |
| 메시지 | 함께 표시될 문구 |

**UX**: 기능 설명 + 예시 GIF로 이해 돕기

### 6. 설정 (⚙️)

| Setting | Default | Description |
|---------|---------|-------------|
| RSVP 수집 | ON | 참석 여부 폼 |
| 식사 여부 질문 | ON | 식사 인원 |
| 방명록 | ON | 축하 메시지 |
| 비밀글 허용 | ON | 비밀 방명록 |
| 배경음악 | OFF | BGM 선택 |

### 7. 계좌정보 (💳)

```
┌─────────────────────────────────────┐
│ 신랑 측 계좌                         │
│ ┌─────────┐ ┌─────────────────────┐ │
│ │국민은행 ▼│ │ 123-456-789012     │ │
│ └─────────┘ └─────────────────────┘ │
│ 예금주: [김지훈        ]             │
│ [+ 계좌 추가]                        │
├─────────────────────────────────────┤
│ 신부 측 계좌                         │
│ (동일 구조)                          │
└─────────────────────────────────────┘
```

---

## Auto-save

### Strategy

| Trigger | Action |
|---------|--------|
| 필드 변경 후 2초 | Debounced 저장 |
| 섹션 이동 | 즉시 저장 |
| 페이지 이탈 | 저장 확인 (변경사항 있으면) |

### UI Feedback

```
저장 중:     [●○○ 저장 중...]
저장 완료:   [✓ 저장됨]
저장 실패:   [⚠ 저장 실패 - 재시도]
```

### Offline Handling
- 오프라인 감지 시 배너 표시
- 로컬 스토리지에 임시 저장
- 온라인 복귀 시 자동 동기화

---

## Validation

### Quick Setup
| Field | Rule | Error Message |
|-------|------|---------------|
| 예식일 | 오늘 이후 | "예식일은 오늘 이후여야 해요" |
| 예식장 | 필수 | "예식장을 선택해주세요" |
| 신랑 이름 | 2-10자 | "이름을 입력해주세요" |
| 신부 이름 | 2-10자 | "이름을 입력해주세요" |

### Detail Editor
- 실시간 유효성 검사
- 에러 필드 하이라이트
- 발행 전 전체 검증

---

## Preview

### Desktop
- 에디터 오른쪽에 상시 표시
- 변경사항 실시간 반영

### Mobile
- [미리보기] 버튼 → 전체화면 모달
- 하단 [편집으로 돌아가기] 버튼

### Preview Modes
| Mode | Description |
|------|-------------|
| 기본 | 일반 모바일 뷰 |
| 공유 미리보기 | 카카오톡 공유 시 보이는 모습 |

---

## Performance

### Image Upload
- 클라이언트 리사이징 (max 2000px)
- 점진적 업로드 (Progress 표시)
- 업로드 완료 후 서버 최적화

### Editor Loading
- 섹션별 Lazy Loading
- Skeleton UI 표시
- 중요 데이터 우선 로드

---

## Accessibility

| Feature | Implementation |
|---------|----------------|
| 키보드 | Tab 순서, Enter 확인 |
| 스크린리더 | ARIA labels |
| 색상 대비 | WCAG AA |
| 에러 | 색상 + 아이콘 + 텍스트 |
